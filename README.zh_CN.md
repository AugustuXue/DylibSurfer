# DylibSurfer

ä¸€ä¸ªä¸“æ³¨äºè‡ªåŠ¨åŒ–ç”Ÿæˆ C/C++ åº“æ¨¡ç³Šæµ‹è¯• harness çš„åŠ¨æ€é“¾æ¥åº“æ¨¡ç³Šæµ‹è¯•æ¡†æ¶ã€‚
[English version](README.md)

## æ¦‚è¿°

DylibSurfer æ˜¯ä¸€ä¸ªç»¼åˆæ€§æ¡†æ¶ï¼Œæ—¨åœ¨ç®€åŒ–å’Œå¢å¼º C/C++ åŠ¨æ€é“¾æ¥åº“çš„æ¨¡ç³Šæµ‹è¯•è¿‡ç¨‹ã€‚å®ƒé€šè¿‡åˆ†æ LLVM IR å¹¶ç”Ÿæˆé€‚å½“çš„ Rust ç»‘å®šå’Œ harness ä»£ç ï¼Œè‡ªåŠ¨åŒ–äº†åˆ›å»ºæ¨¡ç³Šæµ‹è¯• harness çš„ç¹çè¿‡ç¨‹ã€‚

## é¡¹ç›®ç»“æ„

DylibSurfer ç”±ä¸‰ä¸ªä¸»è¦ç»„ä»¶ç»„æˆï¼š

- **dylibsurfer-ir**ï¼šIR è§£æå¼•æ“ï¼Œä» LLVM IR ä¸­æå–å‡½æ•°ç­¾åå’Œç±»å‹ä¿¡æ¯
- **dylibsurfer-bindgen**ï¼šç±»å‹ç³»ç»Ÿæ˜ å°„å™¨ï¼Œå°† C/C++ ç±»å‹è½¬æ¢ä¸º Rust FFI ç»‘å®š
- **dylibsurfer-harness**ï¼šHarness ç”Ÿæˆå™¨ï¼Œè‡ªåŠ¨åˆ›å»ºç”¨äºæ¨¡ç³Šæµ‹è¯•çš„æµ‹è¯• harness

## ä¸»è¦ç‰¹æ€§

- ğŸ” **è‡ªåŠ¨åº“åˆ†æ**ï¼šç›´æ¥ä» LLVM IR ä¸­æå–å‡½æ•°ç­¾åå’Œä¾èµ–å…³ç³»
- ğŸ§  **æ™ºèƒ½å‡½æ•°é€‰æ‹©**ï¼šåŸºäºå®‰å…¨æŒ‡æ ‡å’Œå¯æ„é€ æ€§è¯†åˆ«é«˜ä»·å€¼çš„æ¨¡ç³Šæµ‹è¯•ç›®æ ‡
- ğŸ”„ **ç±»å‹è½¬æ¢**ï¼šè‡ªåŠ¨å°† C/C++ ç±»å‹è½¬æ¢ä¸º Rust FFI ç»‘å®š
- ğŸ› ï¸ **Harness ç”Ÿæˆ**ï¼šåˆ›å»ºå…·æœ‰é€‚å½“èµ„æºç®¡ç†çš„å³ç”¨å‹æ¨¡ç³Šæµ‹è¯• harness
- ğŸ“Š **å¯è§†åŒ–åˆ†æ**ï¼šç”Ÿæˆä¾èµ–å…³ç³»å›¾å’Œå®‰å…¨çƒ­å›¾ï¼Œä»¥æ›´å¥½åœ°ç†è§£åº“ç»“æ„
- ğŸ”Œ **LibAFL é›†æˆ**ï¼šè®¾è®¡ä¸ºä¸ LibAFL æ— ç¼é›†æˆï¼ˆå³å°†æ¨å‡ºï¼‰

## å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/DylibSurfer.git
cd DylibSurfer

# æ„å»ºé¡¹ç›®
cargo build --release
```

## å‰ææ¡ä»¶

- Rustï¼ˆ2021 ç‰ˆæˆ–æ›´æ–°ç‰ˆæœ¬ï¼‰
- LLVM 14.0 å·¥å…·é“¾ï¼ˆç”¨äºç”Ÿæˆ IR æ–‡ä»¶ï¼‰
- Clangï¼ˆç”¨äºé¢„å¤„ç† C/C++ æºä»£ç ï¼‰

## å…¥é—¨æŒ‡å—

### 1. ä»ç›®æ ‡åº“ç”Ÿæˆ LLVM IR

```bash
clang -S -emit-llvm -fno-discard-value-names -o library.ll library.c
```

### 2. ä¸ºåº“ç”Ÿæˆ harness

```bash
cargo run --bin harness-gen -- generate --ir-file library.ll --output ./output --config config.yaml
```

### 3. æ¢ç´¢åˆ†æç»“æœ

```bash
# è¯¥å·¥å…·åœ¨è¾“å‡ºç›®å½•ä¸­ç”Ÿæˆå„ç§åˆ†ææ–‡ä»¶ï¼š
# - dependency_graph.dotï¼šå¯è§†åŒ–å‡½æ•°ä¾èµ–å…³ç³»
# - security_heatmap.htmlï¼šå®‰å…¨å…³é”®å‡½æ•°çš„çƒ­å›¾
# - analysis_report.mdï¼šè¯¦ç»†çš„åº“åˆ†ææŠ¥å‘Š
```

## å¼€å‘è·¯çº¿å›¾

- [x] ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒæ¶æ„ - åŸºæœ¬ç»“æ„ã€é…ç½®ç³»ç»Ÿå’Œæ¨¡æ¿å¼•æ“
- [x] ç¬¬äºŒé˜¶æ®µï¼šå‡½æ•°é€‰æ‹©ç³»ç»Ÿ - ä¾èµ–åˆ†æã€å¯æµ‹è¯•æ€§åˆ†æå’Œå®‰å…¨è¯„åˆ†
- [ ] ç¬¬ä¸‰é˜¶æ®µï¼šè¾“å…¥è½¬æ¢ç³»ç»Ÿ - ç±»å‹æå–è¾…åŠ©å·¥å…·ã€èµ„æºç®¡ç†å’ŒçŠ¶æ€è·Ÿè¸ª
- [ ] ç¬¬å››é˜¶æ®µï¼šHarness ç”Ÿæˆç³»ç»Ÿ - ä»£ç ç”Ÿæˆã€å†…å­˜ç®¡ç†å’Œé”™è¯¯å¤„ç†
- [ ] ç¬¬äº”é˜¶æ®µï¼šæµ‹è¯•å’Œä¼˜åŒ– - å…¨é¢æµ‹è¯•å’Œä¸ LibAFL é›†æˆ

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Requestã€‚

1. Fork ä»“åº“
2. åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯ï¼ˆ`git checkout -b feature/amazing-feature`ï¼‰
3. æäº¤æ‚¨çš„æ›´æ”¹ï¼ˆ`git commit -m 'Add some amazing feature'`ï¼‰
4. æ¨é€åˆ°åˆ†æ”¯ï¼ˆ`git push origin feature/amazing-feature`ï¼‰
5. æ‰“å¼€ä¸€ä¸ª Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… LICENSE æ–‡ä»¶ã€‚